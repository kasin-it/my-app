(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3744:function(e,t,a){Promise.resolve().then(a.bind(a,6949))},6949:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return q}});var r=a(7437);let s=(0,a(2020).Ue)(e=>({order:"asc",sort:"popular",page:1,pageSize:10,hasMore:!0,setOrder:t=>e({order:t}),setSort:t=>e({sort:t}),incrementPage:()=>e(e=>({page:e.page+1})),decrementPage:()=>e(e=>({page:e.page-1})),setPageSize:t=>e({pageSize:t}),setHasMore:t=>{e({hasMore:t})}}));var l=a(6540),n=a(2265),d=a(7908);async function i(e){let{order:t,sort:a,page:r,pageSize:s}=e;return(await d.Z.get("https://api.stackexchange.com/2.3/tags",{params:{site:"stackoverflow",order:t,sort:a,page:r,pageSize:s}})).data}var o=a(3167),c=a(1367);function f(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,c.m6)((0,o.W)(t))}let u=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:t,className:f("w-full caption-bottom text-sm",a),...s})})});u.displayName="Table";let m=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("thead",{ref:t,className:f("[&_tr]:border-b",a),...s})});m.displayName="TableHeader";let x=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tbody",{ref:t,className:f("[&_tr:last-child]:border-0",a),...s})});x.displayName="TableBody",n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tfoot",{ref:t,className:f("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...s})}).displayName="TableFooter";let p=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tr",{ref:t,className:f("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...s})});p.displayName="TableRow";let h=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("th",{ref:t,className:f("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...s})});h.displayName="TableHead";let g=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("td",{ref:t,className:f("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...s})});g.displayName="TableCell",n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("caption",{ref:t,className:f("mt-4 text-sm text-muted-foreground",a),...s})}).displayName="TableCaption";var b=a(9143),j=a(7742);let v=(0,j.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),N=n.forwardRef((e,t)=>{let{className:a,variant:s,size:l,asChild:n=!1,...d}=e,i=n?b.g7:"button";return(0,r.jsx)(i,{className:f(v({variant:s,size:l,className:a})),ref:t,...d})});N.displayName="Button";var y=a(585);function w(e){let{className:t,...a}=e;return(0,r.jsx)("div",{className:f("animate-pulse rounded-md bg-muted",t),...a})}var k=a(6779),R=a(3441),_=a(5159),C=a(9259);let z=k.fC;k.ZA,k.B4;let T=n.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsxs)(k.xz,{ref:t,className:f("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...l,children:[s,(0,r.jsx)(k.JO,{asChild:!0,children:(0,r.jsx)(R.Z,{className:"h-4 w-4 opacity-50"})})]})});T.displayName=k.xz.displayName;let Z=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(k.u_,{ref:t,className:f("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(_.Z,{className:"h-4 w-4"})})});Z.displayName=k.u_.displayName;let P=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(k.$G,{ref:t,className:f("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(R.Z,{className:"h-4 w-4"})})});P.displayName=k.$G.displayName;let A=n.forwardRef((e,t)=>{let{className:a,children:s,position:l="popper",...n}=e;return(0,r.jsx)(k.h_,{children:(0,r.jsxs)(k.VY,{ref:t,className:f("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:l,...n,children:[(0,r.jsx)(Z,{}),(0,r.jsx)(k.l_,{className:f("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,r.jsx)(P,{})]})})});A.displayName=k.VY.displayName,n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(k.__,{ref:t,className:f("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...s})}).displayName=k.__.displayName;let S=n.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsxs)(k.ck,{ref:t,className:f("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(k.wU,{children:(0,r.jsx)(C.Z,{className:"h-4 w-4"})})}),(0,r.jsx)(k.eT,{children:s})]})});S.displayName=k.ck.displayName,n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(k.Z0,{ref:t,className:f("-mx-1 my-1 h-px bg-muted",a),...s})}).displayName=k.Z0.displayName;var E=a(4602);let I=(0,j.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),O=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(E.f,{ref:t,className:f(I(),a),...s})});O.displayName=E.f.displayName;var V=a(9524),F=a.n(V);let B=n.forwardRef((e,t)=>{let{className:a,type:s,...l}=e;return(0,r.jsx)("input",{type:s,className:f("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...l})});B.displayName="Input";var D=function(){let{order:e,setOrder:t,pageSize:a,setPageSize:l}=s(),n=F().debounce(async e=>{l(parseInt(e.target.value)||0)},300),d=async e=>{e.target.value=e.target.value.replace(/[^0-9]/g,""),+e.target.value>100?e.target.value="":e.target.value=e.target.value||"",n(e)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(O,{children:["Number of rows in table: (",a||0,")"]}),(0,r.jsx)(B,{onChange:e=>d(e),defaultValue:a,placeholder:"Number of rows"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(O,{children:"Order:"}),(0,r.jsxs)(z,{onValueChange:e=>t(e),children:[(0,r.jsx)(T,{className:"w-[150px] max-w-[200px]",value:e,children:"asc"==e?"Ascending":"Descending"}),(0,r.jsxs)(A,{children:[(0,r.jsx)(S,{value:"desc",children:"Descending"}),(0,r.jsx)(S,{value:"asc",children:"Ascending"})]})]})]})]})},H=function(e){let{isLoading:t}=e,{page:a,hasMore:l,incrementPage:n,decrementPage:d}=s();return(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsxs)("div",{className:"flex w-full max-w-[500px] items-center gap-5",children:[(0,r.jsx)(N,{className:"w-full",disabled:a<=1||t,onClick:d,children:"Previous"}),(0,r.jsxs)("p",{className:"flex items-center gap-1",children:["Page ",(0,r.jsx)("span",{children:a})]}),(0,r.jsx)(N,{className:"w-full",disabled:!l||t,onClick:n,children:"Next"})]})})},M=function(e){let{data:t,status:a}=e,{sort:l,pageSize:n,setSort:d}=s();return(0,r.jsxs)("div",{className:"flex flex-col gap-5 p-5 pt-10 sm:p-12",children:[(0,r.jsx)("div",{className:"flex flex-col items-start gap-4  sm:flex-row sm:justify-end",children:(0,r.jsx)(D,{})}),(0,r.jsxs)(u,{children:[(0,r.jsx)(m,{children:(0,r.jsxs)(p,{children:[(0,r.jsx)(h,{children:(0,r.jsxs)(N,{variant:"ghost",disabled:"name"==l,onClick:()=>{d("name")},children:["Name",(0,r.jsx)(y.Z,{className:"ml-2 h-4 w-4"})]})}),(0,r.jsx)(h,{children:(0,r.jsxs)(N,{variant:"ghost",disabled:"popular"==l,onClick:()=>{d("popular")},children:["Count",(0,r.jsx)(y.Z,{className:"ml-2 h-4 w-4"})]})})]})}),(0,r.jsxs)(x,{children:["ok"==a&&(0,r.jsx)(r.Fragment,{children:null==t?void 0:t.map(e=>(0,r.jsxs)(p,{children:[(0,r.jsx)(g,{children:e.name}),(0,r.jsx)(g,{children:e.count})]},e.name))}),"loading"==a&&Array.from({length:n},(e,t)=>(0,r.jsxs)(p,{children:[(0,r.jsx)(g,{children:(0,r.jsx)(w,{className:"h-[40px] w-full"})}),(0,r.jsx)(g,{children:(0,r.jsx)(w,{className:"h-[40px] w-full"})})]},t))]})]}),"error"==a&&(0,r.jsx)("div",{className:"flex h-[200px] w-full items-center justify-center",children:(0,r.jsx)("p",{className:" text-xl font-bold",children:"Something went wrong, check the console for more information."})}),"noItems"==a&&(0,r.jsx)("div",{className:"flex h-[200px] w-full items-center justify-center",children:(0,r.jsx)("p",{className:" text-xl font-bold",children:"No items found."})}),(0,r.jsx)(H,{isLoading:"loading"==a})]})},q=function(){let{order:e,sort:t,page:a,pageSize:d,setHasMore:o}=s(),[c,f]=(0,n.useState)("loading"),{isPending:u,error:m,data:x}=(0,l.a)({queryKey:["tagData",a,d,e,t],queryFn:()=>i({order:e,sort:t,page:a,pageSize:d})});return(0,n.useEffect)(()=>{u?f("loading"):m?(console.log(m),f("error")):x&&(null==x?void 0:x.items)&&!((null==x?void 0:x.items.length)<1)?(null==x?void 0:x.items.length)>0&&f("ok"):f("noItems")},[x,u,m]),console.log(x),(0,n.useEffect)(()=>{o((null==x?void 0:x.has_more)||!1)},[a,d,x]),(0,r.jsxs)("main",{children:[(0,r.jsx)("h1",{className:"px-5 pt-12 text-center text-3xl font-semibold",children:"Tag list from stackoverflow API"}),(0,r.jsx)(M,{status:c,data:null==x?void 0:x.items})]})}}},function(e){e.O(0,[866,618,804,971,69,744],function(){return e(e.s=3744)}),_N_E=e.O()}]);